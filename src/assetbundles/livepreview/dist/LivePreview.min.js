"undefined"==typeof Portal&&(Portal={}),Portal.LivePreview=Garnish.Base.extend({$toolbar:null,$breakpointButtons:null,init:function(t){Garnish.on(Craft.LivePreview,"enter",$.proxy(function(t){this.onEnter(t)},this))},onEnter:function(t){1024<Craft.livePreview.$iframeContainer.outerWidth()?this.attachToolbar():this.detachToolbar()},attachToolbar:function(){Craft.livePreview.$iframe.addClass("portal-lp-iframe"),this.$toolbar||(this.$toolbar=$('<header class="portal-lp-toolbar header" />'),this.$breakpointButtons=$('<div class="btngroup" />').appendTo(this.$toolbar),$('<div class="btn" data-width="" data-height="">Desktop</div>').appendTo(this.$breakpointButtons),$('<div class="btn" data-width="1024" data-height="768">Tablet</div>').appendTo(this.$breakpointButtons),$('<div class="btn" data-width="375" data-height="667">Mobile</div>').appendTo(this.$breakpointButtons),this.addListener($(".btn",this.$breakpointButtons),"activate","changeBreakpoint")),this.$toolbar.prependTo(Craft.livePreview.$iframeContainer)},detachToolbar:function(){Craft.livePreview.$iframe.removeClass("portal-lp-iframe"),this.resetIframe(),this.$toolbar&&this.$toolbar.detach()},changeBreakpoint:function(t){var e=$(t.target),a=e.data("width"),i=e.data("height");""!==a&&""!==i?(Craft.livePreview.$iframe.addClass("portal-lp-iframe--resized"),Craft.livePreview.$iframe.css({width:a+"px",height:i+"px",left:"50%",marginLeft:"-"+a/2+"px"})):this.resetIframe()},resetIframe:function(){Craft.livePreview.$iframe.removeClass("portal-lp-iframe--resized"),Craft.livePreview.$iframe.css({width:"100%",height:"100%",left:0,marginLeft:0})}});